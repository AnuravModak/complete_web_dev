<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="x-ua-compatible" content="ie=edge">


    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">





     
  <title>FreeLibrary</title>
</head>
<style>
  body,html {
  /* background-image: url(""); */
  /* background-image: linear-gradient(to right,rgb(187, 132, 60),rgb(241, 192, 136),rgb(240, 164, 77),rgb(240, 197, 148),rgb(187, 132, 60)); */
  /* background-image: linear-gradient(to bottom,rgb(187, 132, 60),rgb(241, 192, 136)); */
  
  background-size: cover;
  height: 100%;
  width: 100%;
  
 

}
.navbar{
  /* background-color: rgb(241, 196, 128); */
  /* background-image: linear-gradient(to right,rgb(187, 132, 60),rgb(241, 192, 136),rgb(240, 164, 77),rgb(240, 197, 148),rgb(187, 132, 60)); */
  background-image: linear-gradient(to right,rgb(68, 200, 240), rgb(174, 228, 245), rgb(174, 228, 245),rgb(68, 200, 240)) ;
  width:1543px;
  align-self: center;
  justify-self: center;
  margin-left: 0px;
  
  height: 10%;
    box-shadow:
  /* 0 2.8px 2.2px rgba(0, 0, 0, 0.02),
  0 6.7px 5.3px rgba(0, 0, 0, 0.028),
  0 12.5px 10px rgba(0, 0, 0, 0.035), */
  0 22.3px 17.9px rgba(0, 0, 0, 0.042),
  0 41.8px 33.4px rgba(0, 0, 0, 0.05),
  0 100px 80px rgba(0, 0, 0, 0.07); 
}
/* .nav-link{
  font-weight: bold;
  font-size: 100%;
  
  
} */
.btn {
  cursor: pointer;
  position: relative;
  background: transparent;
  border: none;
  
  margin-right: 15px;
  font-family: Tahoma;
  /* background-image: linear-gradient(to right,rgb(214, 168, 108),rgb(240, 164, 77),rgb(214, 168, 108)); */

  box-shadow:
  0 2.8px 2.2px rgba(0, 0, 0, 0.02),
  0 6.7px 5.3px rgba(0, 0, 0, 0.028),
  0 12.5px 10px rgba(0, 0, 0, 0.035),
  0 22.3px 17.9px rgba(0, 0, 0, 0.042),
  0 41.8px 33.4px rgba(0, 0, 0, 0.05),
  0 100px 80px rgba(0, 0, 0, 0.07); 
  /* box-shadow:
  0 2.8px 2.2px rgba(0, 0, 0, 0.02),
  0 6.7px 5.3px rgba(0, 0, 0, 0.038),
  0 12.5px 10px rgba(0, 0, 0, 0.030);
} */}
.btn::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 0.175em;
  background: #1a0977;
  bottom: 0;
  left: 0;
}
.btn-center::after {
  transform: scale(0, 1);
  transition: transform 0.3s ease;
}

.btn-center:hover::after {
  transform: scale(1, 1);
}
.container{
  height: 100%;
  width: 100%;

}

.modal-header{
  box-shadow:
  0 2.8px 2.2px rgba(0, 0, 0, 0.02),
  0 6.7px 5.3px rgba(0, 0, 0, 0.028),
  0 12.5px 10px rgba(0, 0, 0, 0.035),
  0 22.3px 17.9px rgba(0, 0, 0, 0.042),
  0 41.8px 33.4px rgba(0, 0, 0, 0.05),
  0 100px 80px rgba(0, 0, 0, 0.07); 
}
.karl{
  background-color: rgb(68, 200, 240);
    
}






@media (min-width: 900px) and (max-width: 1100px) {
  .navbar:not(.top-nav-collapse) {
      background: #b98719!important;
  }
}




</style>
<body>
  
  <div class="row  header ">
      <nav class=" row  col-12 col-sm-12 navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar">
        <div class="container">
    
          <!-- Brand -->
          <a class="navbar-brand" href="#" target="_blank">
            <strong>HOSPITAL NAME</strong>
          </a>
    
          <!-- Collapse -->
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
    
          <!-- Links -->
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
    
            <!-- Left -->
            <ul class="navbar-nav mr-auto">
              <li class="nav-item ">
                <button class=" btn btn-center " data-toggle="modal" data-target="#aboutusModal"  style="color: black;"><i class="fa fa-address-card-o fa-lg" aria-hidden="true" ></i> About Us</button>
              </li>
              <li class="nav-item">
                <button class=" btn btn-center " data-toggle="modal" data-target="#downloadModal" style="color: black;"><i class="fa fa-download fa-lg" aria-hidden="true"></i> About Hospital</button>
              </li>
              <li class="nav-item">
                <button class=" btn btn-center "  data-toggle="modal" data-target="#contactModal" style="color: black;"><i class="fa fa-phone fa-lg" aria-hidden="true"></i> Contact Us</button>
              </li>
            </ul>
    
            <!-- Right -->
            <ul class="navbar-nav nav-flex-icons">
              <li class="nav-item mr-3"><span class="navbar-text" >
                <button class="btn btn-center " >
                <a style="color: black;"data-toggle="modal" data-target="#signinModal">
                    <span class="fa fa-address-card-o"></span> Sign-Up As Admin
                </a>
              </button>
            </span>
              </li>
              <li class="nav-item ">
                <span class="navbar-text" >
                  <button class="btn btn-center ">
                  <a style="color: black;"data-toggle="modal" data-target="#loginModal">
                      <span class="fa fa-sign-in"></span> Login As Admin
                  </a>
                </button>
              </span>
              </li>
            </ul>
    
          </div>
    
        </div>
      </nav>
    </div>




    <div id="loginModal" class="modal fade" role="dialog">
      <div class="modal-dialog modal-lg" role="content">
           <!-- Modal content -->
          <div class="modal-content">
              <div class="modal-header"style="background-color: rgb(198, 235, 238);">
                  <h4 class="modal-title">Login </h4>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
              </div>
              <div class="modal-body">
                  <form id="login_form">
                      <div class="form-row">
                          <div class="form-group col-sm-4">
                                  
                                  <input type="text" name="username"class="form-control form-control-sm mr-1" id="login_username"  placeholder="Enter email/ Username">
                          </div>
                          <div class="form-group col-sm-4">
                              
                              <input type="password" name="password" class="form-control form-control-sm mr-1" id="login_password" placeholder="Password">
                          </div>
                          
                          <div class="col-sm-auto">
                              <div class="form-check">
                                  <input class="form-check-input" type="checkbox">
                                  <label class="form-check-label"> Remember me
                                  </label>
                              </div>
                          </div>
                      </div>
                      <div class="form-row">
                          <button type="button" class="btn btn-center btn-sm ml-auto " style="color: black;" data-dismiss="modal">Cancel</button>
                          <button type="submit" class="btn btn-center">Submit</button>        
                      </div>
                  </form>
              </div>
          </div>
      </div>
  </div> 

  <div id="signinModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg" role="content">
         <!-- Modal content -->
        <div class="modal-content">
            <div class="modal-header" style="background-color: rgb(198, 235, 238);">
                <h4 class="modal-title">SIGN-UP </h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id ="formElem">
                    <div class="form-row">
                        <div class="form-group col-sm-5">
                                
                            <input type="text" class="form-control form-control-sm mr-1" id="firstname" name="firstname"placeholder="Firstname">
                        </div>
                        <div class="form-group col-sm-5">
                            
                            <input type="text" class="form-control form-control-sm mr-1"  id="lastname" name="lastname"placeholder="Lastname">
                        </div>
                        <div class="form-group col-sm-5">
                            
                            <input type="text"class="form-control form-control-sm mr-1" id="username" name="username"  placeholder="Enter email/Username">
                        </div>
                        <div class="form-group col-sm-5">
                          
                          <input type="password" class="form-control form-control-sm mr-1" id="passsword"name="password"  placeholder="Password">
                      </div>
                      
                        <div class="col-sm-auto">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox">
                                <label class="form-check-label"> Remember me
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <button type="button" class="btn btn-center btn-sm ml-auto " style="color: black;" data-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-center">submit</button>    
                    </div>
                </form>
            </div>
        </div>
    </div>
</div> 


<div id="aboutusModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg" role="content">
       <!-- Modal content -->
      <div class="modal-content">
          <div class="modal-header" style="background-color: rgb(198, 235, 238);">
              <h4 class="modal-title">About Us </h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
              <p><strong>This website belongs to Anurav Modak.</strong><br>
                For any query contact him at: <strong>anuravmodak1@gmail.com</strong><br>
                  A guy in pursuit to become successfull :)</p>
          </div>
      </div>
  </div>
</div> 

<div id="downloadModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg" role="content">
       <!-- Modal content -->
      <div class="modal-content">
          <div class="modal-header" style="background-color: rgb(198, 235, 238);">
              <h4 class="modal-title">Introduction</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">Seven Hills Hospital in Visakhapatnam. Hospitals with Address, Contact Number, Photos, Maps. View Seven Hills Hospital, Visakhapatnam on Justdial.<br>

            In Visakhapatnam, Seven Hills Hospital is a recognized name in patient care. It was incepted in the year 1988. They are one of the well-known Hospitals in Ram Nagar. Backed with a vision to offer the best in patient care and equipped with technologically advanced healthcare facilities, they are one of the upcoming names in the healthcare industry. Located in , this hospital is easily accessible by various means of transport.<br>
            
            
              
          </div>
      </div>
  </div>
</div> 

<div id="contactModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg" role="content">
       <!-- Modal content -->
      <div class="modal-content">
          <div class="modal-header" style="background-color: rgb(198, 235, 238);">
              <h4 class="modal-title">Contacts </h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <p><strong>Address:</strong> Door No. 11-4-4/A, Waltair Main Road Ram Nagar Rockdale Layout, Visakhapatnam, Andhra Pradesh, 530002
                <br>
                <strong>Open:</strong> 24 hours<br>
                <strong>Phone:</strong> 0891 667 7777</p>
              <p>This website belongs to Anurav Modak
               <br> For any query contact him at: "anuravmodak1@gmail.com"
              </p>
          </div>
      </div>
  </div>
</div> 






      


    <div class="row welcome col-12 col-sm-12 justify-content-center align-content-center" style="height: 100%;">
      <div class="col-12 col-sm-6  ">
      
        <h1>Start Your Journey With Us Right Now!!</h1>

        
            <div class="row col-12 col-sm-12 justify-content-center ">
                
              <button class="btn karl btn-center " >
                <a style="color: black;"data-toggle="modal" data-target="#signinModal">
                    <span class="fa fa-address-card-o"></span> Sign-Up As Admin
                </a>
              </button>
                  <button class="btn karl btn-center ">
                  <a style="color: black;"data-toggle="modal" data-target="#loginModal">
                      <span class="fa fa-sign-in"></span> Login As Admin
                  </a>
                </button>
          
            </div>
            
          
        
          
      
     
    </div>
  


  </div>



  








  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>



  <script>


// SIGN-UP API.....................................

    let signUp_data;
    
    function signUp_handleSubmit(event) {
      let value;
      event.preventDefault();
      const data = new FormData(event.target);
      value = Object.fromEntries(data.entries());
      console.log({ value });
      signUp_data=value;
  }

    const Form=document.querySelector('#formElem');
    
    Form.addEventListener("submit",signUp_handleSubmit);
    
    formElem.onsubmit = async (e) => {
    e.preventDefault();
    // if u use this will by default do only "GET" operation...
      var form = document.querySelector("#login_form");
      let response = await fetch('/users/signup', {
              method: 'POST', // or 'PUT'
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify(signUp_data),
              
      });
      
      // console.log(response.redirected);
      // console.log(response);
      // console.log(response.status);
      
      // console.log(res=>response.json());
      // console.log(response,typeof response);
      
      
      let text = await response.text() 
      // console.log(text);
      if (response.status==200){
        console.log("You are successfully registered");
        alert( "You are successfully registered! Click ok to continue");
      }
      else
      {
        console.log("User already exists!! Try logging in");
        alert( "User already exists!! Try logging in");
      }
    };
  // SIGN-UP API ends here .....................................


  //LOGIN- API.........................................................
    let login_data;

    function handleSubmit(event) {
      let value;
      event.preventDefault();
      const data = new FormData(event.target);
      value = Object.fromEntries(data.entries());
      console.log("",{ value });
      login_data=value;
  }

    let login_response;
    let login_text;
    const login_Form=document.querySelector('#login_form');
    
    login_Form.addEventListener("submit",handleSubmit);
    
    
    login_form.onsubmit = async (e) => {
      console.log("login_Data",login_data,typeof login_data);
    e.preventDefault();
    // if u use this will by default do only "GET" operation...
      var form = document.querySelector("#login_form");
      let response = await fetch('/users/login', {
              method: 'POST', // or 'PUT'
              headers: {
                  'Content-Type': 'application/json',
              },

              body: JSON.stringify(login_data),
              
      });
      
     
      
      // console.log(response.redirected);
      // console.log(response);
      // console.log(response.status);
      
      // console.log(res=>response.json());
      // console.log(response,typeof response);
      
      
      let text = await response.text() ;
      var json;

      if (response.status==200){
        console.log(text,typeof text);
        json=JSON.parse(text);
        console.log("text",json,typeof json);

        let result= await fetch('/users/redirect',{
        method:"POST",
        headers:{
          'Content-Type':'application/json'
        },
        body:JSON.stringify(json)
      });

      let new_text=await result.text();
      console.log(result);
      
      // new_text=JSON.parse(new_text);
      // console.log("new_text",new_text,typeof new_text);

      // API to send data from one html page to another-------------------------

      const username =document.getElementById('login_username').value;
      
      
      const lastname=document.getElementById("lastname").value;
      const firstname=document.getElementById('firstname').value;

      const login_name=document.getElementById('login_username').value;
      const main_body=new_text;
      // const token=new_text.token;

      sessionStorage.setItem("Username",username);
      sessionStorage.setItem('Firstname',firstname);
      sessionStorage.setItem("Lastname",lastname);
      sessionStorage.setItem("BODY",main_body);
      sessionStorage.setItem("login_username",login_name);




      // localStorage.setItem("Username",username);
      // localStorage.setItem('Firstname',firstname);
      // localStorage.setItem("Lastname",lastname);
      // localStorage.setItem("Token",token);


      // API to send data from one html page to another ends here----------------



  
      if (result.status==200){
        window.location.replace("main.html");
      }
      else{
        alert("Incorrect username/password");
      }


      
      // API to change URL----------------------------------------------------------------

      // var newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + '/:'+new_text.token+"/";
      // window.history.pushState({path:newurl},"",newurl);
      // console.log(window.location.href);
      // window.location.href="home.html";
      // window.location.replace("home.html");

      // window.location.replace(window.location.href+'/home.html/'+new_text.token);
      
      // API to change UR ends here -------------------------------------------------------

      }
      else if (response.status==500){
        
        alert("Your email address is not registered1 Sign-Up First!!");

      }
      else if(response.status==403){

         alert( "Incorrect username/password! Click OK to retry");

      }
      
      
      

      
      

    };
  //LOGIN- API ends here .........................................................


    


 

    
    // document.body.style.backgroundImage = "url('http://www.modakflix.com/resources/bcg.jpg')";


    </script>
</body>
</html>




















































<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
<form id="formElem">
  <input type="text" name="firstname" value="Karam">
  <input type="text" name="lastname" value="Yousef">
  <input type="submit">
</form>
<div id="decoded">adwadawdad</div>

<script>

formElem.onsubmit = async (e) => {
e.preventDefault();
// if u use this will by default do only "GET" operation...
var form = document.querySelector("#formElem");

  data = {
    firstname : form.querySelector('input[name="firstname"]').value,
    lastname : form.querySelector('input[name="lastname"]').value,
  }

  let response = await fetch('/myRoutes', {
          method: 'POST', // or 'PUT'
          headers: {
              'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
  })

  let text = await response.text() ;// read response body as text
  document.querySelector("#decoded").innerHTML = text;

}
</script>
  
</body>
</html> -->